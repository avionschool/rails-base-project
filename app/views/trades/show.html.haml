
#data-selector.hidden{"data-coin" => "#{@cp_str}"}
.tradingview-widget-container
  #tradingview_71d0f
  .tradingview-widget-copyright
    %a(href="https://www.tradingview.com/symbols/#{@cp_str}/?exchange=BINANCE" rel="noopener" target="_blank")
      %p= @cp_str
      Chart
    by TradingView
    =@cp_str
    %script(type="text/javascript" src="https://s3.tradingview.com/tv.js")
    :javascript
      var cp_str = document.getElementById("data-selector").dataset.coin
      console.log(cp_str)
      new TradingView.widget(
        {
        "width": 980,
        "height": 610,
        "symbol": `BINANCE:${cp_str}`,
        "interval": "D",
        "timezone": "Etc/UTC",
        "theme": "dark",
        "style": "1",
        "locale": "en",
        "toolbar_bg": "#f1f3f6",
        "enable_publishing": false,
        "container_id": "tradingview_71d0f"
        })

=render partial: "list", collection: @coins